<!--
    AccountViewpage.page
    Author(s): Dorian Alexander Patterson
-->
<apex:page standardController="Account" recordSetVar="accounts" extensions="AccountExtension">
    <apex:stylesheet value="{!$Resource.visualforceStyle}"/>
    <apex:slds/>
    <apex:image value="{!$Resource.VFBanner}"/>
        <apex:form>
            <apex:pageBlock title="Accounts">
                <apex:selectList value="{!filterId}" size="1">
                    <apex:actionSupport event="onchange" reRender="list-view"/>
                    <apex:selectOptions value="{!listviewoptions}"/>
                </apex:selectList>
                <apex:commandButton value="New" action="{!newAccount}"/>
                <apex:outputPanel id="list-view">
                    <apex:pageBlockTable value="{! accounts }" var="acc">
                        <apex:column headerValue="Actions">
                            <apex:outputLink value="AccountCreateEditPage" styleClass="edit-button">Edit
                                <apex:param name="id" value="{!acc.Id}"/>
                            </apex:outputLink>
                            <apex:outputLink >
                                <apex:commandLink action="{!deleteAccount}" reRender="list-view" value="Del">
                                    <apex:param name="recordId" value="{!acc.Id}" assignTo="{!recordId}"/>
                                </apex:commandLink>
                            </apex:outputLink>
                        </apex:column>
                        <apex:column value="{! acc.Name }"/>
                        <apex:column value="{! acc.Rating }"/>
                        <apex:column value="{! acc.Phone }"/>
                        <apex:column value="{! acc.ParentId }"/>
                    </apex:pageBlockTable>
                    <apex:outputText value="Page {!PageNumber} of {!CEILING(ResultSize / PageSize)}"/>
                    <apex:commandLink action="{!previous}">Previous</apex:commandLink>
                    <apex:commandLink action="{!next}">Next</apex:commandLink>
                    <apex:selectList value="{!pageSize}" size="1">
                        <apex:actionSupport event="onchange" reRender="list-view"/>
                        <apex:selectOption itemLabel="5" itemValue="5"/>
                        <apex:selectOption itemLabel="10" itemValue="10"/>
                        <apex:selectOption itemLabel="20" itemValue="20"/>
                    </apex:selectList>
                </apex:outputPanel>
            </apex:pageBlock>
        </apex:form>
</apex:page>